<!DOCTYPE html>
<html>
<head>
  <title>Ziwei Calculator in JS playground</title>
  <link href="data:image/x-icon;base64,
    iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAlwSFlzAAAL
    EwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6
    eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYg
    eG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4K
    ICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlm
    Zj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRh
    dGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9y
    ZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAA5VJREFUOBFNk/1PW1UYx59zb2/XtWXtGJTejArS
    DpWBIojMdCPZ5pwhZrKBW/wTSPeDQLaQGeOcv0hMSPzJXxhCGMbpFmOykUwzg8hginN1xRZ5GX3v
    7RvQwu3dvbf3Hs/Fsfgk5yU5z+c5z/fkexD8FzRZlKf7195/73Sn232kVU/BfoPRiJ9IxdjM1OT9
    kW9ufEdyvE/znjHaRgt9c0vLZ2OjI3x4dQXP3buDuehjLAo8jgYX8fLCPB4fvbr5igM+Jbk7jG6b
    1ODz3d3f+v1+rKoqVhVJ+u3ehFgQeDmRiMg/3PhSXP7nL6koi9j35+/47DtvjhKG0mCkTee6ugb6
    +y9cBJVX9paxqsG4l1lc8IEqSyBJItD6XfC8sxbWM2HJZqtkchs8qm9s+pigV7QqzZ1dnR9YrSWQ
    ScfU/GaBuT/5I456p2ArsQJKLgm5UAACD//AQO3WZzKcXHPABde/Hu8lbAPd19PTc/KtY21FuSA7
    nI3MgncOq+sR1HTsNNS3HgVXfTOU2SshG/ob8UIRv9zSplMVWaaQaowFQ1ndS3V1hxgGQZLj0BOJ
    Aj6xhFpPnoXq2jpyAQCXTMKs1w+ATaBfj8PSwjxkUyu4tJSFE2+3H9IR1uZw1IBlnw0FvA+h1O4A
    azkLi0tLYK+ogOGhIcisrUE6lYKjB1m0r4aH193tiKEQTE8/2E8hilIxViG/sQaIPKmiSCAIBbBa
    rJDJpGF2dgacTifkcnkQRQFMJjNZeUglo0DrdEAVRCkZj4chGgxgTWtRFPFPt78Hnz8AQ1eH4dbt
    CTjv8YAZ56Gy2oUZgxEyyQguCALkeSFKA+ZdpzrOtblq6xRFxbQgFiG9PIe+6O+G8YlfwcIAnDrx
    BrQfPwysqxFV1b4Az1U51a0tiX63o2Nc80H9tbGx2TNnOszeBz/LCt7F6DCFc4lVlEpxQGwFdtKZ
    xV6FDSUlqLCVlppajuuHvxrJezyeI9tGIkU+mpq8e8VWZlaJcZRy1sXEIqvEr3hbJ0/aPfBiA5Hp
    l7OpGG3Y46Dc7sOfEO7yjqen44lEVUND46tECm0yGeT1bByX2li1vIJVI6s+1Ww2KxVsNROMJFFf
    36VrHBfXjITJePYxtG4+HBwczPsePcKh4DLmYkG8sZbG4dAKnvrlLv58YGCT5Fz+H0PvSNA62fnO
    moO6ensvtFr2mFhFLtKCVOSu37w1E348f5OczZOhxTbzL+FXtFV64DG6AAAAAElFTkSuQmCC"
    rel="icon" type="image/x-icon" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="ziwei.css">
  <script type="text/javascript" src="ziwei.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(() => {
      calculator = new Ziwei.Calculator();
      setupDropdownValues();
      setupCalcButtonHandler(calculator);
      setupTestButtonHandler(calculator);
      setupCheckersHandler(calculator);
    });
  </script>
</head>
<body>
  <script id="result-template" type="text/x-handlebars-template">
    <div id="result-display">
      <canvas id="connected-lines" width="{{ canvas.width }}px" height="{{ canvas.height }}px"></canvas>
      <div id="tuan-khong" class="tuan-triet" style="top: {{ tuanPos.top }}px; left: {{ tuanPos.left }}px;">
        <span>Tuần</span>
      </div>
      <div id="triet-khong" class="tuan-triet" style="top: {{ trietPos.top }}px; left: {{ trietPos.left }}px;">
        <span>Triệt</span>
      </div>
      <table class="result-table" border="1">
        <tr>
          <td>{{{ renderedPalaces.ty2 }}}</td>
          <td>{{{ renderedPalaces.ngo }}}</td>
          <td>{{{ renderedPalaces.mui }}}</td>
          <td>{{{ renderedPalaces.than }}}</td>
        </tr>
        <tr>
          <td>{{{ renderedPalaces.thin }}}</td>
          <td rowspan="2" colspan="2" id="center-info">{{{ centerInfo }}}</td>
          <td>{{{ renderedPalaces.dau }}}</td>
        </tr>
        <tr>
          <td>{{{ renderedPalaces.mao }}}</td>
          <td>{{{ renderedPalaces.tuat }}}</td>
        </tr>
        <tr>
          <td>{{{ renderedPalaces.dan }}}</td>
          <td>{{{ renderedPalaces.suu }}}</td>
          <td>{{{ renderedPalaces.ty }}}</td>
          <td>{{{ renderedPalaces.hoi }}}</td>
        </tr>
      </table>
    </div>
  </script>
  <script id="palace-template" type="text/x-handlebars-template">
    <table class="palace {{ selfClass }} {{ bodyClass }}" width="{{ size.width }}px" height="{{ size.height }}px">
      <tr height="15%">
        <td width="30%" class="top left">{{ name }}</td>
        <td width="40%" class="top center empty"></td>
        <td width="30%" class="top right">{{ body }}</td>
      </tr>
      <tr height="15%">
        <td></td>
        <td rowspan="2" class="center main-stars">
          <div id="main-stars">{{{ mainStars }}}</div>
        </td>
        <td></td>
      </tr>
      <tr height="55%">
        <td class="left good-stars"><div>{{{ goodStars }}}</div></td>
        <td class="right bad-stars"><div>{{{ badStars }}}</div></td>
      </tr>
      <tr height="15%">
        <td class="bottom left">{{ position }}</td>
        <td class="bottom center">{{ trangSinhConstellation }}</td>
        <td class="bottom right">{{ opportunityAge }}</td>
      </tr>
    </table>
  </script>
  <script id="center-info-template" type="text/x-handlebars-template">
    <div class=center-info>
      <span>Tên: <b>{{ name }}</b></span>
      <span>Giờ sinh: <b>{{ birthHour }}</b></span>
      <span>
        Ngày sinh: <b>{{ birthDay }}</b> tháng <b>{{ birthMonth }}</b> năm <b>{{ birthYear }}</b>
      </span>
      <span>
        Bản mệnh: 
        <b style='{{ ageSymbolColorStyle }}'>{{ ageSymbol }}</b> ({{ yinyangGender }})
      </span>
      <span>
        Cục: <b style='{{ cucElementColorStyle }}'>{{ cucFullName }} ({{ cucNumber }})</b>
      </span>
    </div>
  </script>
  <div id="controls">
    <table>
      <tr>
        <td>
          <div id="mode-switcher">
            <div><button id="test-mode-button" class="btn btn-success" type="button">Nhập tay</button></div>
            <div><button id="full-mode-button" class="btn btn-success active" type="button" selected>Tên đủ</button></div>
          </div>
        </td>
        <td class="main-controls-form">
          <div id="main-controls">
            <table>
              <tr>
                <td>
                  <form class="form-inline">
                    <div>
                      Tên: <input id="profileName" class="form-control input-sm" type="text" placeholder="Họ và tên">
                      <select id="gender" class="form-control input-sm">
                        <option value='male'>Nam</option>
                        <option value='female'>Nữ</option>
                      </select>
                      Giờ: <select id="birthHour" class="form-control input-sm"></select>
                    </div>
                    <div>
                      Ngày: <select id="birthDay" class="form-control input-sm"></select>
                      Tháng: <select id="birthMonth" class="form-control input-sm"></select>
                      Năm: <select id="birthYearStem" class="form-control input-sm"></select>
                      <select id="birthYearBranch" class="form-control input-sm"></select>
                    </div>
                  </form>
                </td>
                <td>
                  <button id="calcButton" class="btn btn-primary btn-lg" type="button">Lập số</button>
                </td>
              </tr>
            </table>
          </div>
          <div id="test-controls" hidden>
            Tên: <select id="presetProfile"></select>
            <button id="testButton" class="btn btn-primary btn-lg" type="button">Lập số</button>
          </div>
        </td>
      </tr>
    </table>
  </div>
  <div id="result-display"></div>
</body>
</html>